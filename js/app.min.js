window.onload=function(){function t(t,e){return Math.random()*(e-t)+t}function e(){i.clearRect(0,0,y,I),h.forEach(function(e,n){0===M&&0===R?(e[0]+=(e[0]-d*g)*e[2],e[1]+=(e[1]-u*g)*e[2]):(e[0]+=(e[0]-M*g)*e[2],e[1]+=(e[1]-R*g)*e[2]),(e[0]>y||e[1]>I)&&h.splice(n,1,[Math.floor(Math.random()*y),Math.floor(Math.random()*I),1/t(m,s)]),i.fillRect(e[0],e[1],E*e[2],E*e[2])})}function n(){a=setInterval(e,16)}function o(){clearInterval(a)}function c(t){i.clearRect(0,0,y,I),0===p?(h.forEach(function(t){t[0]=t[0]+M*t[2]*w,t[1]=t[1]+R*t[2]*w,i.fillRect(t[0],t[1],E*t[2],E*t[2])}),p+=1):h.forEach(function(e){e[0]=e[0]-(t.clientX-M)*e[2]*w,e[1]=e[1]-(t.clientY-R)*e[2]*w,i.fillRect(e[0],e[1],E*e[2],E*e[2])}),M=t.clientX,R=t.clientY}var a,l=document.getElementById("canvas-app"),i=l.getContext("2d"),f=document.documentElement.clientWidth,r=document.documentElement.clientHeight,d=f/2,u=r/2,h=[],m=50,s=250,v=8e3,E=70,M=0,R=0,p=0,g=2,w=m*g,y=f*g,I=r*g;l.width=f,l.height=r,i.strokeStyle="#fff",i.fillStyle="#fff",i.translate(-d,-u),function(){for(v;v--;){var e=Math.floor(Math.random()*y),n=Math.floor(Math.random()*I),o=1/t(m,s);h.push([e,n,o]),i.fillRect(e,n,E*o,E*o)}}(),l.addEventListener("mousedown",n,!1),l.addEventListener("mouseup",o,!1),l.addEventListener("mousemove",c,!1)};